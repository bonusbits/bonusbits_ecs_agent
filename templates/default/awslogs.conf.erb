[general]
state_file = /var/lib/awslogs/agent-state
use_gzip_http_content_encoding = true

[cloud-init]
log_group_name = <%= node['bonusbits_ecs_cluster']['aws']['logs_group_name'] %>
log_stream_name = <%= "#{node['ec2']['instance_id']}-#{node['bonusbits_ecs_cluster']['role']}-cloud-init" %>
datetime_format = %b %d %H:%M:%S
file = /var/log/cloud-init.log

[cloud-init-output]
log_group_name = <%= node['bonusbits_ecs_cluster']['aws']['logs_group_name'] %>
log_stream_name = <%= "#{node['ec2']['instance_id']}-#{node['bonusbits_ecs_cluster']['role']}-cloud-init-output" %>
file = /var/log/cloud-init-output.log

[yum]
log_group_name = <%= node['bonusbits_ecs_cluster']['aws']['logs_group_name'] %>
log_stream_name = <%= "#{node['ec2']['instance_id']}-#{node['bonusbits_ecs_cluster']['role']}-yum" %>
datetime_format = %b %d %H:%M:%S
file = /var/log/yum.log

[ecs-init]
log_group_name = <%= node['bonusbits_ecs_cluster']['aws']['logs_group_name'] %>
log_stream_name = <%= "#{node['ec2']['instance_id']}-#{node['bonusbits_ecs_cluster']['role']}-ecs-init" %>
datetime_format = %Y-%m-%dT%H:%M:%SZ
file = /var/log/ecs/ecs-init.log*

[ecs-agent]
log_group_name = <%= node['bonusbits_ecs_cluster']['aws']['logs_group_name'] %>
log_stream_name = <%= "#{node['ec2']['instance_id']}-#{node['bonusbits_ecs_cluster']['role']}-ecs-agent" %>
datetime_format = %Y-%m-%dT%H:%M:%SZ
file = /var/log/ecs/ecs-init.log*

[docker]
log_group_name = <%= node['bonusbits_ecs_cluster']['aws']['logs_group_name'] %>
log_stream_name = <%= "#{node['ec2']['instance_id']}-#{node['bonusbits_ecs_cluster']['role']}-docker" %>
datetime_format = %Y-%m-%dT%H:%M:%S.%f
file = /var/log/docker

[cron]
log_group_name = <%= node['bonusbits_ecs_cluster']['aws']['logs_group_name'] %>
log_stream_name = <%= "#{node['ec2']['instance_id']}-#{node['bonusbits_ecs_cluster']['role']}-cron" %>
datetime_format = %b %d %H:%M:%S
file = /var/log/cron